CREATE DATABASE IF NOT EXISTS toma_pedidos;

USE toma_pedidos

CREATE TABLE usuarios(
    id INT(10) NOT NULL,
    CELULAR VARCHAR(20) NOT NULL,
    CEDULA VARCHAR(80) ,
    EMAIL VARCHAR(80) NOT NULL,
    PASSWORD VARCHAR(80) NOT NULL
);

ALTER TABLE usuarios
    ADD PRIMARY KEY (id,CELULAR,EMAIL);

ALTER TABLE usuarios 
    MODIFY id INT(10) NOT NULL AUTO_INCREMENT,AUTO_INCREMENT = 1;

CREATE TABLE mesas(
    NRO INT(6) NOT NULL,
    STATUS TINYINT(1),
    HORA VARCHAR(10),
    VENDE INT(6),
    NOMEUEN Varchar(23),
    ACUMULA FLOAT(10)
);

ALTER TABLE mesas
    ADD PRIMARY KEY (NRO);

CREATE TABLE grupos(
    FCGRUPO VARCHAR(4) NOT NULL,
    imagen VARCHAR(300),
    FCDESC VARCHAR(35),
    Nivel VARCHAR(1)
);

ALTER TABLE grupos
    ADD PRIMARY KEY (FCGRUPO);

CREATE TABLE inventa(
    FCREF VARCHAR(13) NOT NULL,
    FNCOSTO FLOAT,
    FCDESC VARCHAR(45),
    imagen VARCHAR(300),
    LOCAL VARCHAR(3),
    FNVRUNI FLOAT,
    LINEA VARCHAR(4), index(LINEA),
    promox VARCHAR(1),
    FNVPROMOX FLOAT
);

ALTER TABLE inventa
    ADD PRIMARY KEY (FCREF);


CREATE TABLE detawait(
    VENDE INT(3) NOT NULL,
    HORA VARCHAR(10) NOT NULL,
    fecha TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    delivered TINYINT(1),
    comanda1 VARCHAR(45),
    comanda2 VARCHAR(45),
    LOCAL VARCHAR(3),
    fcdesc VARCHAR(35),
    cantidad SMALLINT(6),
    vrtotal FLOAT,
    Mesa SMALLINT(6),
    fcref VARCHAR(13),
    OLDCUENTA SMALLINT(6), index(OLDCUENTA),
    imagen VARCHAR(300),
    FNCOSTO FLOAT,
    promox VARCHAR(1),
    FNVRUNI FLOAT,
    CELULAR VARCHAR(20),
    FNVPROMOX FLOAT
);

ALTER TABLE detawait ADD PRIMARY KEY(fcref,VENDE,HORA,CELULAR);



